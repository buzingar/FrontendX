<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>flex</title>
  <style>
    #content {
      display: flex;
      width: 500px;
    }

    #content div {
      flex-basis: 120px;
      /* border: 3px solid rgba(0, 0, 0, .2); */
    }

    .box {
      flex-shrink: 1;
    }

    .box1 {
      flex-shrink: 2;
    }
  </style>
</head>

<body>

  <p>div 总宽度为 500px, flex-basis 为 120px。</p>
  <p>A, B, C 设置 flex-shrink:1。 D , E 设置为 flex-shrink:2</p>
  <p>D , E 宽度与 A, B, C 不同</p>
  <p>120 * 5 - 500 = 100</p>
  <p>100 / 7 = 14.28</p>
  <p>120 - 14.28 = 105.72</p>
  <p>120 - 14.29 * 2 = 91.42</p>
  <div id="content">
    <div class="box" style="background-color:red;">A</div>
    <div class="box" style="background-color:lightblue;">B</div>
    <div class="box" style="background-color:yellow;">C</div>
    <div class="box1" style="background-color:brown;">D</div>
    <div class="box1" style="background-color:lightgreen;">E</div>
  </div>
  <script>
    function addWidth(array) {
      for (let index = 0; index < array.length; index++) {
        const element = array[index];
        var box = window.getComputedStyle(element);
        var text = element.innerText;
        element.innerHTML = '<div style="text-align:center"><div>' + text + '</div><div>' + parseFloat(box.width).toFixed(2) + 'px</div></div>'
      }
    }

    var nodes = document.getElementsByClassName("box");
    addWidth(nodes);

    var nodes = document.getElementsByClassName("box1");
    addWidth(nodes);
  </script>
</body>

</html>