# 计算机基础

## 操作系统

### [进程和线程](https://juejin.cn/post/6844903801321685000)

### [进程通信](https://www.jianshu.com/p/c1015f5ffa74)

### [进程调度策略](https://blog.csdn.net/qq_35642036/article/details/82809812)

### [死锁](https://www.jianshu.com/p/44125bb12ebf)

### [IO 多路复用](https://imageslr.github.io/2020/02/27/select-poll-epoll.html)

## 网络

### [七层网络模型](https://zhuanlan.zhihu.com/p/32059190)

### [http](https://coolshell.cn/articles/19840.html)

### [https](https://zhuanlan.zhihu.com/p/26682342)

### [http2.0](https://juejin.cn/post/6844903984524705800)

- 二进制分帧协议
- 多路复用
- 头部压缩
- 服务端推送
- 流控

http2.0 之所以能够突破 http1.X 标准的性能限制，改进传输性能，实现低延迟和高吞吐量，就是因为其新增了二进制分帧层。

在 http1.1 中，浏览器客户端在同一时间，针对同一域名下的请求有一定数量的限制，超过限制数目的请求会被阻塞。这也是为何一些站点会有多个静态资源 CDN 域名的原因之一。

http2.0 中的多路复用优化了这一性能。多路复用允许同时通过单一的 http/2 连接发起多重的请求-响应消息。有了新的分帧机制后，http/2 不再依赖多个 TCP 连接去实现多流并行了。每个数据流都拆分成很多互不依赖的帧，而这些帧可以交错（乱序发送），还可以分优先级，最后再在另一端把它们重新组合起来。

http 2.0 连接都是持久化的，而且客户端与服务器之间也只需要一个连接（每个域名一个连接）即可。http2 连接可以承载数十或数百个流的复用，多路复用意味着来自很多流的数据包能够混合在一起通过同样连接传输。当到达终点时，再根据不同帧首部的流标识符重新连接将不同的数据流进行组装。

http1.x 的头带有大量信息，而且每次都要重复发送。http/2 使用 encoder 来减少需要传输的 header 大小，通讯双方各自缓存一份头部字段表，既避免了重复 header 的传输，又减小了需要传输的大小。

如果首部发生了变化，则只需将变化的部分加入到 header 帧中，改变的部分会加入到头部字段表中，首部表在 http 2.0 的连接存续期内始终存在，由客户端和服务器共同渐进地更新。

http/2 的 HPACK 算法使用一份索引表来定义常用的 http Header，把常用的 http Header 存放在表里，请求的时候便只需要发送在表里的索引位置即可。

把 http 消息分为很多独立帧之后，就可以通过优化这些帧的交错和传输顺序进一步优化性能。每个流都可以带有一个 31 比特的优先值：0 表示最高优先级；2 的 31 次方-1 表示最低优先级。
服务器可以根据流的优先级，控制资源分配（CPU、内存、带宽），而在响应数据准备好之后，优先将最高优先级的帧发送给客户端。

服务器可以对一个客户端请求发送多个响应，服务器向客户端推送资源无需客户端明确地请求。并且，服务端推送能把客户端所需要的资源伴随着 index.html 一起发送到客户端，省去了客户端重复请求的步骤。

那么肯定要问 HTTP2.0 虽然性能已经不错了，还有什么不足吗？

- 建立连接时间长(本质上是 TCP 的问题，三次握手四次挥手)
- 队头阻塞问题，拥塞控制
- 移动互联网领域表现不佳(弱网环境)

### [http3.0](https://blog.csdn.net/wolfGuiDao/article/details/108729560)

我们单纯地看看 TCP 协议的不足和 UDP 的一些优点：

- 基于 TCP 开发的设备和协议非常多，兼容困难
- TCP 协议栈是 Linux 内部的重要部分，修改和升级成本很大
- UDP 本身是无连接的、没有建链和拆链成本
- UDP 的数据包无队头阻塞问题
- UDP 改造成本小

谷歌决定在 UDP 基础上改造一个具备 TCP 协议优点的新协议，这个新协议就是 QUIC 协议，Quick UDP Internet Connections

---

QUIC 协议存在的意义在于解决 TCP 协议的一些无法解决的痛点：

- 多次握手：TCP 协议需要三次握手建立连接，而如果需要 TLS 证书的交换，那么则需要更多次的握手才能建立可靠连接，这在如今长肥网络的趋势下是一个巨大的痛点
- 队头阻塞：TCP 协议下，如果出现丢包，则一条连接将一直被阻塞等待该包的重传，即使后来的数据包可以被缓存，但也无法被递交给应用层去处理。
- 无法判断一个 ACK 是重传包的 ACK 还是原本包的 ACK：比如 一个包 seq=1, 超时重传的包同样是 seq=1，这样在收到一个 ack=1 之后，我们无法判断这个 ack 是对之前的包的 ack 还是对重传包的 ack，这会导致我们对 RTT 的估计出现误差，无法提供更准确的拥塞控制
- 无法进行连接迁移：一条连接由一个四元组标识，在当今移动互联网的时代，如果一台手机从一个 wifi 环境切换到另一个 wifi 环境，ip 发生变化，那么连接必须重新建立，inflight 的包全部丢失。

现在我们给出一个 QUIC 协议的 Overview

- 更好的连接建立方式
- 更好的拥塞控制
- 没有队头阻塞的多路复用
- 前向纠错
- 连接迁移

### [websocket](https://blog.csdn.net/LL845876425/article/details/106393358)

为什么会出现？

HTTP 协议有一个的缺陷为：通信只能由客户端发起。这种单向请求的特点，注定了如果服务器有连续的状态变化，客户端要获知就非常麻烦。

一个方案是使用轮询：每隔一段时候，就发出一个询问，了解服务器有没有新的信息。最典型的场景就是聊天室。轮询的效率低，非常浪费资源（因为必须不停连接，或者 HTTP 连接始终打开）。WebSocket 就是这样发明的。

Webscoket 是 Web 浏览器和服务器之间的一种全双工通信协议，一旦 Web 客户端与服务器建立起连接，之后的全部数据通信都通过这个连接进行。通信过程中，可互相发送 JSON、XML、HTML 或图片等任意格式的数据。

WS（WebSocket）与 HTTP 协议相比，

相同点主要有：

- 都是基于 TCP 的应用层协议；
- 都使用 Request/Response 模型进行连接的建立；
- 在连接的建立过程中对错误的处理方式相同，在这个阶段 WS 可能返回和 HTTP 相同的返回码；
- 都可以在网络中传输数据。

不同之处在于：

- WS 使用 HTTP 来建立连接，但是定义了一系列新的 header 域，这些域在 HTTP 中并不会使用；
- WS 的连接不能通过中间人来转发，它必须是一个直接连接；
- WS 连接建立之后，通信双方都可以在任何时刻向另一方发送数据；全双工？
- WS 连接建立之后，数据的传输使用帧来传递，不再需要 Request 消息；
- WS 的数据帧有序。

### [tcp](https://coolshell.cn/articles/11564.html)

> https://zhuanlan.zhihu.com/p/47861654

1. 面向连接
2. 可靠传输
3. 面向字节流
4. 提供拥塞控制
5. 仅支持单播传输
6. 提供全双工通信

|          | TCP                                         | UDP                                    |
| -------- | ------------------------------------------- | -------------------------------------- |
| 是否连接 | 无连接                                      | 面向连接                               |
| 是否可靠 | 不可靠传输，不使用流量控制和拥塞控制        | 可靠传输，使用流量控制和拥塞控制       |
| 连接个数 | 支持一对一，一对多，多对一和多对多交互通信  | 只能是一对一通信                       |
| 传输方式 | 面向报文                                    | 面向字节流                             |
| 首部开销 | 首部开销小，仅 8 字节                       | 首部最小 20 字节，最大 60 字节         |
| 使用场景 | 适用于实时应用（IP 电话、视频会议、直播等） | 适用于要求可靠传输的应用，例如文件传输 |

### [udp](https://zhuanlan.zhihu.com/p/337678680)

1. 面向无连接
2. 不可靠传输，丢包不重发
3. 面向报文
4. 不提供复杂的控制机制，不保证顺序，不控制流量
5. 单播、多播、广播皆可
6. 资源开销小，传输数据报文时很高效，适合传输音视频
